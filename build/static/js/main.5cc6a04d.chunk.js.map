{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","phonebook","axios","get","then","response","data","newObject","post","id","put","concat","delete","Filter","props","React","createElement","onSubmit","e","preventDefault","onChange","handleChange","PersonItem","person","name","number","onClick","window","confirm","onerase","Persons","persons","map","x","key","PersonForm","onPersonAdded","onNameChanged","onNumberChanged","type","Notification","_ref","message","className","App","_useState","useState","_useState2","_slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","filterText","setFilterText","_useState9","_useState10","displayMessage","setDisplayMessage","_useState11","_useState12","messageType","setMessageType","notify","msg","timeout","arguments","length","undefined","setTimeout","useEffect","phonebookService","personsShown","filter","includes","target","value","find","catch","error","alert","p","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.5cc6a04d.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst erase = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst get = id => {\n  const request = axios.put(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, erase }\n","import React from 'react';\nimport { useState, useEffect } from 'react'\nimport phonebookService from './services/phonebook.js'\nimport './index.css'\n\nconst Filter = (props) => {\n  return (\n    <form onSubmit={(e) => e.preventDefault() }>\n      <div>\n        filter show with: <input onChange={props.handleChange} />\n      </div>\n    </form>\n  )\n}\n\nconst PersonItem = (props) => {\n  const handleClick = () => {\n    if (window.confirm(`Delete ${props.person.name}?`))\n      props.onerase(props.person)\n  }\n  return (<p>{props.person.name} {props.person.number} <button onClick={handleClick}>delete</button></p>)\n}\n\nconst Persons = (props) => {\n  return (\n    <div>\n    {props.persons.map(x => <PersonItem key={x.id} person={x} onerase={props.onerase} />)}\n    </div>\n  )\n}\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onPersonAdded}>\n      <div>\n        name: <input onChange={props.onNameChanged} />\n      </div>\n      <div>\n        number: <input onChange={props.onNumberChanged} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterText, setFilterText] = useState('')\n  const [displayMessage, setDisplayMessage] = useState(null)\n  const [messageType, setMessageType] = useState(false)\n  \n  const notify = (msg, type, timeout = 3000) => {\n    setMessageType(type);\n    setDisplayMessage(msg)\n    setTimeout(() => setDisplayMessage(null), timeout)\n  }\n  \n  const handleAddPerson = (e) => {\n    const person = persons.find(x => x.name === newName)\n    if (person === undefined) {\n      if (newNumber !== '') {\n        phonebookService\n          .create({ name: newName, number: newNumber })\n          .then(x => {\n            setPersons(persons.concat(x))\n            notify(`Added ${newName}`, 'success')\n          })\n          .catch(error => notify(error.response.data.error, 'error'))\n      } else\n        alert(`Empty number`)\n    } else if (newNumber !== person.number) {\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n        phonebookService\n          .update(person.id, { name: newName, number: newNumber })\n          .then(x => {\n            setPersons(persons.map(p => p.id !== person.id ? p : x))\n            notify(`Updated ${newName}`, 'success')\n          })\n          .catch(error => notify(error.response.data.error, 'error'))\n      }\n    }\n    else\n      alert(`${newName} is already added to phonebook`)\n    e.preventDefault()\n  }\n  \n  const handleErasePerson = person => {\n    phonebookService\n      .erase(person.id)\n      .then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n        notify(`Removed ${person.name}`, 'success')\n      })\n      .catch(e => {\n        notify(`Information of ${person.name} was already been removed from server`, 'error')\n      })\n  }\n  \n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(data => {\n        setPersons(data)\n      }) \n  }, [])\n  \n  const personsShown = (filterText === '') ? persons : persons.filter(x => x.name.includes(filterText) || x.number.includes(filterText))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={displayMessage} type={messageType}/>\n      <Filter handleChange={(e) => setFilterText(e.target.value)}/>\n      <h2>add a new</h2>\n      <PersonForm onNameChanged={(e) => setNewName(e.target.value)} onNumberChanged={(e) => setNewNumber(e.target.value)} onPersonAdded={handleAddPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={personsShown} onerase={handleErasePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />);\n"],"sourceRoot":""}